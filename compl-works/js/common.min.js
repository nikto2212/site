var range_druggable;
! function(e) {
	"function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? e(require("jquery")) : e(jQuery)
}((function(e) {
	var t, a = navigator.userAgent,
		n = /iphone/i.test(a),
		c = /chrome/i.test(a),
		i = /android/i.test(a);
	e.mask = {
		definitions: {
			9: "[0-9]",
			a: "[A-Za-z]",
			"*": "[A-Za-z0-9]"
		},
		autoclear: !0,
		dataName: "rawMaskFn",
		placeholder: "_"
	}, e.fn.extend({
		caret: function(e, t) {
			var a;
			if (0 !== this.length && !this.is(":hidden")) return "number" == typeof e ? (t = "number" == typeof t ? t : e, this.each((function() {
				this.setSelectionRange ? this.setSelectionRange(e, t) : this.createTextRange && ((a = this.createTextRange()).collapse(!0), a.moveEnd("character", t), a.moveStart("character", e), a.select())
			}))) : (this[0].setSelectionRange ? (e = this[0].selectionStart, t = this[0].selectionEnd) : document.selection && document.selection.createRange && (a = document.selection.createRange(), e = 0 - a.duplicate().moveStart("character", -1e5), t = e + a.text.length), {
				begin: e,
				end: t
			})
		},
		unmask: function() {
			return this.trigger("unmask")
		},
		mask: function(a, l) {
			var o, r, s, u, d, m, p;
			if (!a && this.length > 0) {
				var h = e(this[0]).data(e.mask.dataName);
				return h ? h() : void 0
			}
			return l = e.extend({
				autoclear: e.mask.autoclear,
				placeholder: e.mask.placeholder,
				completed: null
			}, l), o = e.mask.definitions, r = [], s = m = a.length, u = null, e.each(a.split(""), (function(e, t) {
				"?" == t ? (m--, s = e) : o[t] ? (r.push(new RegExp(o[t])), null === u && (u = r.length - 1), e < s && (d = r.length - 1)) : r.push(null)
			})), this.trigger("unmask").each((function() {
				var h = e(this),
					v = e.map(a.split(""), (function(e, t) {
						if ("?" != e) return o[e] ? b(t) : e
					})),
					g = v.join(""),
					f = h.val();

				function $() {
					if (l.completed) {
						for (var e = u; e <= d; e++)
							if (r[e] && v[e] === b(e)) return;
						l.completed.call(h)
					}
				}

				function b(e) {
					return e < l.placeholder.length ? l.placeholder.charAt(e) : l.placeholder.charAt(0)
				}

				function y(e) {
					for (; ++e < m && !r[e];);
					return e
				}

				function k(e, t) {
					var a, n;
					if (!(e < 0)) {
						for (a = e, n = y(t); a < m; a++)
							if (r[a]) {
								if (!(n < m && r[a].test(v[n]))) break;
								v[a] = v[n], v[n] = b(n), n = y(n)
							}
						S(), h.caret(Math.max(u, e))
					}
				}

				function q(e) {
					w(), h.val() != f && h.change()
				}

				function _(e, t) {
					var a;
					for (a = e; a < t && a < m; a++) r[a] && (v[a] = b(a))
				}

				function S() {
					h.val(v.join(""))
				}

				function w(e) {
					var t, a, n, c = h.val(),
						i = -1;
					for (t = 0, n = 0; t < m; t++)
						if (r[t]) {
							for (v[t] = b(t); n++ < c.length;)
								if (a = c.charAt(n - 1), r[t].test(a)) {
									v[t] = a, i = t;
									break
								}
							if (n > c.length) {
								_(t + 1, m);
								break
							}
						} else v[t] === c.charAt(n) && n++, t < s && (i = t);
					return e ? S() : i + 1 < s ? l.autoclear || v.join("") === g ? (h.val() && h.val(""), _(0, m)) : S() : (S(), h.val(h.val().substring(0, i + 1))), s ? t : u
				}
				h.data(e.mask.dataName, (function() {
					return e.map(v, (function(e, t) {
						return r[t] && e != b(t) ? e : null
					})).join("")
				})), h.one("unmask", (function() {
					h.off(".mask").removeData(e.mask.dataName)
				})).on("focus.mask", (function() {
					var e;
					h.prop("readonly") || (clearTimeout(t), f = h.val(), e = w(), t = setTimeout((function() {
						h.get(0) === document.activeElement && (S(), e == a.replace("?", "").length ? h.caret(0, e) : h.caret(e))
					}), 10))
				})).on("blur.mask", q).on("keydown.mask", (function(e) {
					if (!h.prop("readonly")) {
						var t, a, c, i = e.which || e.keyCode;
						p = h.val(), 8 === i || 46 === i || n && 127 === i ? (a = (t = h.caret()).begin, (c = t.end) - a == 0 && (a = 46 !== i ? function(e) {
							for (; --e >= 0 && !r[e];);
							return e
						}(a) : c = y(a - 1), c = 46 === i ? y(c) : c), _(a, c), k(a, c - 1), e.preventDefault()) : 13 === i ? q.call(this, e) : 27 === i && (h.val(f), h.caret(0, w()), e.preventDefault())
					}
				})).on("keypress.mask", (function(t) {
					if (!h.prop("readonly")) {
						var a, n, c, l = t.which || t.keyCode,
							o = h.caret();
						if (!(t.ctrlKey || t.altKey || t.metaKey || l < 32) && l && 13 !== l) {
							if (o.end - o.begin != 0 && (_(o.begin, o.end), k(o.begin, o.end - 1)), (a = y(o.begin - 1)) < m && (n = String.fromCharCode(l), r[a].test(n))) {
								if (function(e) {
										var t, a, n, c;
										for (t = e, a = b(e); t < m; t++)
											if (r[t]) {
												if (n = y(t), c = v[t], v[t] = a, !(n < m && r[n].test(c))) break;
												a = c
											}
									}(a), v[a] = n, S(), c = y(a), i) {
									setTimeout((function() {
										e.proxy(e.fn.caret, h, c)()
									}), 0)
								} else h.caret(c);
								o.begin <= d && $()
							}
							t.preventDefault()
						}
					}
				})).on("input.mask paste.mask", (function() {
					h.prop("readonly") || setTimeout((function() {
						var e = w(!0);
						h.caret(e), $()
					}), 0)
				})), c && i && h.off("input.mask").on("input.mask", (function(e) {
					var t = h.val(),
						a = h.caret();
					if (p && p.length && p.length > t.length) {
						for (w(!0); a.begin > 0 && !r[a.begin - 1];) a.begin--;
						if (0 === a.begin)
							for (; a.begin < u && !r[a.begin];) a.begin++;
						h.caret(a.begin, a.begin)
					} else {
						for (w(!0); a.begin < m && !r[a.begin];) a.begin++;
						h.caret(a.begin, a.begin)
					}
					$()
				})), w()
			}))
		}
	})
})), $(document).ready((function() {
	$(".phone").on("input", (function() {
		let e = $(".phone").val();
		8 != e[0] && 7 != e[0] || $(".phone").val(e.slice(1))
	})), $(".phone").mask("+7 (999) 999-99-99")
})), document.addEventListener("DOMContentLoaded", (function() {
	document.querySelectorAll(".plus").forEach(e => {
		e.addEventListener("click", () => {
			let t = e.parentElement.querySelector(".calculator2-input");
			t.value++;
			let a = new Event("change");
			t.dispatchEvent(a)
		})
	}), document.querySelectorAll(".minus").forEach(e => {
		e.addEventListener("click", () => {
			let t = e.parentElement.querySelector(".calculator2-input");
			t.value > 1 ? t.value-- : t.value = 0;
			let a = new Event("change");
			t.dispatchEvent(a)
		})
	});

	function e() {
		let e = $("input[type=radio]:checked").eq(0).attr("data-facture"),
			t = $(".calc-item-box-manufacturers").find("input[name=manufacturer]");
		$.each(t, (function(t, a) {
			-1 == a.getAttribute("data-factures").indexOf(e) ? $(".calc-item-box-manufacturers").find(".manufacturer-label").eq(t).addClass("hidden") : $(".calc-item-box-manufacturers").find(".manufacturer-label").eq(t).removeClass("hidden")
		})), $("input[type=radio]:checked+label").eq(1).hasClass("hidden") && $(".calc-item-box-manufacturers .manufacturer-label").not(".hidden").eq(0).click()
	}

	function t() {
		let t, a, n, c = document.querySelector(".calc-input-area"),
			i = document.querySelector('.calc-item-box-1 input[name="manufacturer"]:checked'),
			l = document.querySelector(".calc-item-box-1 label[for=" + i.id + "]"),
			o = document.querySelector(".calc-input-svet"),
			r = document.querySelector(".calc-input-lamp"),
			s = document.querySelector(".calc-price-final span"),
			u = document.querySelector(".calc-price-previous span");
		e();
		let d = document.querySelector(".calc-input-angles");
		a = d.value > 4 ? 180 * (d.value - 4) : 0, t = c.value * i.value + 190 * o.value + 520 * r.value + a, n = t + c.value * (i.value - 320), s.textContent = t.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 "), "tkan" != $("input[type=radio]:checked").eq(0).attr("data-facture") ? ($(".calc-price-previous").show(), u.textContent = n.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")) : ($(".calc-price-previous").hide(), u.textContent = t.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")), 0 != +c.value ? (document.querySelector('input[name="area_m2"]').value = +c.value, document.querySelector('input[name="corners"]').value = +d.value, document.querySelector('input[name="fixtures"]').value = +o.value, document.querySelector('input[name="lamps"]').value = +r.value, document.querySelector('input[name="material"]').value = l.innerHTML, document.querySelector("#form-sum").value = +t, document.querySelector(".calc-mobile-summ").value = +t, document.querySelector('input[name="facture"]') && (document.querySelector('input[name="facture_data"]').value = $("input[type=radio]:checked+label").eq(0).html())) : (document.querySelector('input[name="area_m2"]').value = null, document.querySelector('input[name="corners"]').value = null, document.querySelector('input[name="fixtures"]').value = null, document.querySelector('input[name="lamps"]').value = null, document.querySelector('input[name="material"]').value = null, document.querySelector('input[name="summa"]').value = null, document.querySelector('input[name="facture"]') && (document.querySelector('input[name="facture"]').value = null))
	}
	document.querySelector(".calc") && (document.querySelectorAll(".calc-flw input").forEach(e => {
		e.addEventListener("change", () => {
			t()
		}), e.addEventListener("click", () => {
			t()
		})
	}), e(), t(), $("input[data-facture=" + $(".calc").attr("data-facture") + "]").click()), $(".calc-btn").click((function() {
		$(".calc").next().slideToggle()
	}))
})), $(".calc-range-circle").on("mousedown", (function(e) {
	range_druggable = !0
})), $(".calc-range-circle").on("pointerdown", (function(e) {
	range_druggable = !0
})), $(document).on("mouseup", (function() {
	range_druggable = !1
})), $(document).on("pointerup", (function() {
	range_druggable = !1
})), $(document).on("mousemove", (function(e) {
	if (range_druggable) {
		let t = e.pageX - $(".calc-range").prop("offsetLeft"),
			a = parseInt($(".calc-range").css("width")) - 20;
		t < 0 && (t = 0), t > a && (t = a), $(".calc-range-circle").css("left", t + "px"), $(".calc-range-filled").css("width", t / a * 100 + "%"), $(".calc-number-range input[name=square]").val(Math.floor(5 + t / a * 85)), $(".calc-range-curr").html(Math.floor(5 + t / a * 85)), $(".calc-range-curr").css("left", t / a * 90 + 3 + "%"), $(".calc-mobile-price span").html(560 * $(".calc-number-range input[name=square]").val() + 190 * $(".calc-number-range input[name=lights]").val()), $(".calc-mobile-summ").val($(".calc-mobile-price span").html())
	}
})), $(document).on("touchmove", (function(e) {
	if (e.target == document.querySelector("div.calc-range-circle")) {
		let t = e.originalEvent.changedTouches[0].clientX - $(".calc-range").prop("offsetLeft"),
			a = parseInt($(".calc-range").css("width")) - 20;
		t < 0 && (t = 0), t > a && (t = a), $(".calc-range-circle").css("left", t + "px"), $(".calc-range-filled").css("width", t / a * 100 + "%"), $(".calc-number-range input[name=square]").val(Math.floor(5 + t / a * 85)), $(".calc-range-curr").html(Math.floor(5 + t / a * 85)), $(".calc-range-curr").css("left", t / a * 90 + 3 + "%"), $(".calc-mobile-price span").html(560 * $(".calc-number-range input[name=square]").val() + 190 * $(".calc-number-range input[name=lights]").val()), $(".calc-mobile-summ").val($(".calc-mobile-price span").html())
	}
})), $(".calc-number-range input[name=square]").on("change", (function() {
	let e = parseInt($(".calc-range").css("width")) - 20;
	$(this).val() > 90 && $(this).val(90), $(this).val() < 5 && $(this).val(5), $(".calc-range-circle").css("left", ($(this).val() - 5) / 85 * e + "px"), $(".calc-range-filled").css("width", ($(this).val() - 5) / 85 * 100 + "%"), $(".calc-range-curr").css("left", ($(this).val() - 5) / 85 * 90 + 3 + "%"), $(".calc-range-curr").html($(this).val()), $(".calc-mobile-price span").html(560 * $(".calc-number-range input[name=square]").val() + 190 * $(".calc-number-range input[name=lights]").val()), $(".calc-mobile-summ").val($(".calc-mobile-price span").html())
})), $(".calc-number-range input[name=lights]").on("change", (function() {
	$(".calc-mobile-price span").html(560 * $(".calc-number-range input[name=square]").val() + 190 * $(".calc-number-range input[name=lights]").val()), $(".calc-mobile-summ").val($(".calc-mobile-price span").html())
}));
let range_width2 = parseInt($(".calc-range").css("width")) - 20;

function hideModal(e = !1) {
	$(".modal").animate({
		opacity: 0
	}, 400, "swing", (function() {
		$(".modal").removeClass("modal-active"), $(".modal button").removeClass("modal-button-active"), e && ($(".modal p").html(e), $(".modal input, .modal button").show())
	}))
}

function showModal() {
	$(".modal").addClass("modal-active"), $(".modal").animate({
		opacity: 1
	}), $(".modal button").hasClass("active") || $(".modal button").addClass("modal-button-active")
}
$(".calc-number-range input[name=square]").val() > 90 && $(".calc-number-range input[name=square]").val(90), $(".calc-number-range input[name=square]").val() < 5 && $(".calc-number-range input[name=square]").val(5), $(".calc-range-circle").css("left", ($(".calc-number-range input[name=square]").val() - 5) / 85 * range_width2 + "px"), $(".calc-range-filled").css("width", ($(".calc-number-range input[name=square]").val() - 5) / 85 * 100 + "%"), $(".calc-range-curr").css("left", ($(".calc-number-range input[name=square]").val() - 5) / 85 * 90 + 3 + "%"), $(".calc-range-curr").html($(".calc-number-range input[name=square]").val()), $(".calc-mobile-price span").html(560 * $(".calc-number-range input[name=square]").val() + 190 * $(".calc-number-range input[name=lights]").val()), $(".calc-mobile-summ").val($(".calc-mobile-price span").html()), $("#burger").click((function() {
	$(".mob-menu").is(":visible") ? ($(this).children("div").eq(0).css("transform", "none"), $(this).children("div").eq(1).css("opacity", "1"), $(this).children("div").eq(2).css("transform", "none"), $(this).css("transform", "none")) : ($(this).children("div").eq(0).css("transform", "rotate(45deg) translate(.25em, .83333em)"), $(this).children("div").eq(1).css("opacity", "0"), $(this).children("div").eq(2).css("transform", "rotate(-45deg) translate(.25em, -0.83333em)"), $(this).css("transform", "translateX(3px)")), $(".mob-menu").slideToggle()
})), $(".nav-item_catalog").hover((function() {
	$(".submenu-catalog").toggleClass("submenu-catalog_active"), $(".nav-item_catalog").toggleClass("nav-item_catalog_hover")
})), $(".nav-item_about-company").hover((function() {
	$(".submenu-about-company").toggleClass("submenu-catalog_active"), $(".nav-item_about-company").toggleClass("nav-item_catalog_hover")
})), $(".submenu-catalog").hover((function() {
	$(".submenu-catalog").toggleClass("submenu-catalog_active"), $(".nav-item_catalog").toggleClass("nav-item_catalog_hover")
})), $(".submenu-about-company").hover((function() {
	$(".submenu-about-company").toggleClass("submenu-about-company_active"), $(".nav-item_about-company").toggleClass("nav-item_about-company_hover")
})), $(".slider-for").each((function(e, t) {
	$(this).slick({
		slidesToShow: 1,
		slidesToScroll: 1,
		arrows: !0,
		fade: !0,
		asNavFor: $(this).parent().parent().find(".slider-nav"),
		prevArrow: '<button type="button" class="slick-prev" style="z-index: 1"></button>',
		nextArrow: '<button type="button" class="slick-next" style="z-index: 1"></button>'
	})
})), $(".slider-nav").each((function(e, t) {
	$(this).slick({
		slidesToShow: 5,
		slidesToScroll: 1,
		asNavFor: $(this).parent().find(".slider-for"),
		dots: !1,
		focusOnSelect: !0,
		arrows: !1
	})
})), $(window).on("load", (function() {
	$(".ceiling-types-options li").each((function(e, t) {
		this != $(".ceiling-types-options li.active")[0] && ($(".ceiling-types-item").eq($(this).index()).hide(), $(".ceiling-types-item").eq($(this).index()).css("transform", "translateX(0)"))
	}))
})), window.innerWidth < 768 && $(".ceiling-types-item-slides").each((function(e, t) {
	$(this).insertAfter($(".ceiling-types-item-main").eq(e).find(".img-main"))
})), $(".ceiling-types-options li").click((function() {
	if (!$(this).hasClass("active")) {
		let e = $(".ceiling-types-options li.active");
		e.removeClass("active"), $(this).addClass("active"), $(".ceiling-types-item").eq($(this).index()).show(), $(".ceiling-types-item").eq(e.index()).hide()
	}
})), $("[data-modal]").click((function() {
	showModal()
})), $(".modal-window_cross").click((function() {
	hideModal()
})), $(document).click((function(e) {
	e.target == $(".modal-active")[0] && hideModal()
})), $(".help button").click((function() {
	if ("" != $(".help input").val()) {
		if ("yes" == sessionStorage.getItem("application_has_been_sent")) {
			let e = $(".modal p").html();
			return $(".modal p").html("<div class='modal-success'><div class='modal-success-check'><div></div><div></div></div><p>Мы уже приняли Вашу заявку, ожидайте, специалист скоро с Вами свяжется!</p></div>"), $(".modal input, .modal button").hide(), showModal(), void setTimeout(() => {
				hideModal(e)
			}, 5e3)
		}
		$.ajax({
			type: "POST",
			url: "php/modal.php",
			data: $(".help input"),
			success: function() {
				sessionStorage.setItem("application_has_been_sent", "yes");
				let e = $(".modal p").html();
				$(".modal p").html("<div class='modal-success'><div class='modal-success-check'><div></div><div></div></div><p>Спасибо за заявку, в ближайшее время наши операторы свяжутся с Вами!</p></div>"), $(".modal input, .modal button").hide(), showModal(), setTimeout(() => {
					hideModal(e)
				}, 4e3)
			}
		})
	}
})), $(".modal button").click((function() {
	if ("" != $(".modal input").val()) {
		if ("yes" == sessionStorage.getItem("application_has_been_sent")) {
			let e = $(".modal p").html();
			return $(".modal p").html("<div class='modal-success'><div class='modal-success-check'><div></div><div></div></div><p>Мы уже приняли Вашу заявку, ожидайте, специалист скоро с Вами свяжется!</p></div>"), $(".modal input, .modal button").hide(), void setTimeout(() => {
				hideModal(e)
			}, 3e3)
		}
		$.ajax({
			type: "POST",
			url: "php/modal.php",
			data: $(".modal input"),
			success: function() {
				sessionStorage.setItem("application_has_been_sent", "yes");
				let e = $(".modal p").html();
				$(".modal p").html("<div class='modal-success'><div class='modal-success-check'><div></div><div></div></div><p>Спасибо за заявку, в ближайшее время наши операторы свяжутся с Вами!</p></div>"), $(".modal input, .modal button").hide(), setTimeout(() => {
					hideModal(e)
				}, 2e3)
			}
		})
	} else alert("Заполните поле")
})), $("form:not(.payment)").submit((function(e) {
	e.preventDefault();
	let t = $(this);
	if ("yes" == sessionStorage.getItem("application_has_been_sent")) {
		let e = $(".modal p").html();
		return $(".modal p").html("<div class='modal-success'><div class='modal-success-check'><div></div><div></div></div><p>Мы уже приняли Вашу заявку, ожидайте, специалист скоро с Вами свяжется!</p></div>"), $(".modal input, .modal button").hide(), showModal(), void setTimeout(() => {
			hideModal(e)
		}, 5e3)
	}
	$.ajax({
		type: "POST",
		url: "php/phpzzayavka.php",
		data: t.find("input"),
		success: function() {
			sessionStorage.setItem("application_has_been_sent", "yes");
			let e = $(".modal p").html();
			$(".modal p").html("<div class='modal-success'><div class='modal-success-check'><div></div><div></div></div><p>Спасибо за заявку, в ближайшее время наши операторы свяжутся с Вами!</p></div>"), $(".modal input, .modal button").hide(), showModal(), setTimeout(() => {
				hideModal(e)
			}, 4e3)
		}
	})
}));
var tag = document.createElement("script");
tag.src = "https://www.youtube.com/iframe_api";
var player, firstScriptTag = document.getElementsByTagName("script")[0];

function stickersMaxHeight() {
	let e = 0;
	$(".stickers .stickers__item-discription").each((function() {
		parseInt($(this).css("height")) > e && (e = parseInt($(this).css("height")))
	})), $(".stickers").css("height", parseInt($(".stickers").css("height")) + e + "px")
}
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag), $(document).on("click", ".player", (function() {
	$(this).children(".play-btn").css({
		"z-index": "-1"
	}), player = new YT.Player(this, {
		height: "100%",
		width: "100%",
		videoId: $(this).data("id"),
		events: {
			onReady: function(e) {
				e.target.playVideo()
			}
		}
	})
})), $(".ceiling-table-options li").click((function() {
	if (!$(this).hasClass("active")) {
		let e = $(".ceiling-table-options li.active");
		e.removeClass("active"), $(this).addClass("active"), $(".ceiling-table-item").eq($(this).index()).fadeIn(0), $(".ceiling-table-item").eq(e.index()).fadeOut(0)
	}
})), $(".ceiling-top-slider").slick({
	dots: !0,
	infinite: !0,
	speed: 600,
	slidesToShow: 1,
	prevArrow: '<button type="button" class="slick-prev" ></button>',
	nextArrow: '<button type="button" class="slick-next" ></button>'
}), $(".faq__block_item").click((function() {
	$(this).children(".faq__block_item_text").slideToggle(200), $(this).children(".faq__block_item_title").toggleClass("active")
})), stickersMaxHeight(), document.addEventListener("DOMContentLoaded", (function() {}));